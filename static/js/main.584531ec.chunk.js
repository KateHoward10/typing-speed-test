(this["webpackJsonptyping-speed-test"]=this["webpackJsonptyping-speed-test"]||[]).push([[0],{15:function(e,t,a){e.exports=a(39)},20:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(13),c=a.n(l),o=(a(20),a(3)),i=a(14),s=a.n(i);a(38);function u(e){return e.split(" ").filter((function(e){return""!==e})).length}function m(e,t){var a=e.split(" ");return a.filter((function(e,n){return n!==a.length-1&&""!==e&&e!==t.split(" ")[n]})).length}function d(e,t){var a;return Number(null===(a=getComputedStyle(e)[t])||void 0===a?void 0:a.replace("px",""))}var f=function(e){var t=e.textToCopy,a=e.textTyped,l=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e,t=null===l||void 0===l?void 0:l.current,n=null===t||void 0===t||null===(e=t.children)||void 0===e?void 0:e[a.split(" ").length-1];if(t&&n instanceof HTMLElement){var r=null===n||void 0===n?void 0:n.offsetTop,c=d(t,"paddingTop");r+c+d(t,"lineHeight")>(null===t||void 0===t?void 0:t.scrollTop)+(null===t||void 0===t?void 0:t.clientHeight)&&t.scroll({top:r-c,left:0,behavior:"smooth"})}}),[a]),r.a.createElement("div",{ref:l,className:"text-to-copy"},t.length>0?t.split(" ").map((function(e,t){return t===a.split(" ").length-1?r.a.createElement("span",{key:t,style:{color:"green"}}," ",e):r.a.createElement("span",{key:t,style:{color:a.split(" ")[t]===e?"grey":"black"}}," ",e)})):"Loading text...")},p=r.a.forwardRef((function(e,t){var a=e.onChange,n=e.textTyped;return r.a.createElement("textarea",{ref:t,onChange:a,value:n,placeholder:"Start typing to begin...",autoFocus:!0})})),v=function(e){var t=e.children,a=e.time,n=e.label,l=e.error;return r.a.createElement("div",{className:"box".concat(a?" time-box":l&&Number(t)>0?" error-box":"")},r.a.createElement("div",{className:"box-label"},n),t)},E=a(2),b=function(e){var t=e.textTyped,a=e.errors,n=e.restart,l=e.close,c=u(t),o=(c-a)/c,i=Math.floor(c*o);return r.a.createElement("div",{className:"overlay"},r.a.createElement("div",{className:"modal"},r.a.createElement("div",{onClick:l,className:"close-button"},r.a.createElement(E.f,null)),r.a.createElement("div",{className:"results-wrapper"},r.a.createElement("div",{className:"result-box"},r.a.createElement("p",null,c," words typed"),r.a.createElement("small",null,t.length," characters")),r.a.createElement("div",{className:"result-box"},r.a.createElement("p",null,Math.floor(100*o),"% accuracy"),r.a.createElement("small",null,a," errors"))),r.a.createElement("h3",null,"Adjusted speed: ",i," WPM"),r.a.createElement("div",{className:"result-chart"},r.a.createElement("div",{className:"icon-container"},r.a.createElement(E.h,null)),r.a.createElement("div",{className:"icon-container"},r.a.createElement(E.a,null)),r.a.createElement("div",{className:"icon-container"},r.a.createElement(E.g,null)),r.a.createElement("div",{className:"icon-container"},r.a.createElement(E.b,null)),r.a.createElement("div",{className:"icon-container"},r.a.createElement(E.e,null)),r.a.createElement("div",{className:"result-marker",style:{left:"".concat(3*i,"px")}})),r.a.createElement("div",{className:"chart-labels"},[20,40,60,80].map((function(e,t){return r.a.createElement("span",{key:t},e)}))),r.a.createElement("button",{onClick:n},"Try again")))};var h=function(){var e,t=Object(n.useState)(""),a=Object(o.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)(""),d=Object(o.a)(i,2),h=d[0],g=d[1],y=Object(n.useState)(!1),N=Object(o.a)(y,2),x=N[0],j=N[1],w=Object(n.useState)(60),O=Object(o.a)(w,2),T=O[0],k=O[1],C=Object(n.useState)(!1),S=Object(o.a)(C,2),M=S[0],W=S[1],I=Object(n.useRef)(null);function R(){s.a.get("https://litipsum.com/api/5").then((function(e){return c(e.data.replace(/ {2}/g," ").replace(/\u201c|\u201d/g,'"').replace(/\u2019/g,"'").replace(/$(\r|\n{2})(?=.)/gm," "))}))}function H(){g(""),k(60),W(!1),R(),(null===I||void 0===I?void 0:I.current)&&I.current.focus()}return function(e,t){var a=Object(n.useRef)();Object(n.useEffect)((function(){a.current=e}),[e]),Object(n.useEffect)((function(){if(null!==t){var e=setInterval((function(){a.current()}),t);return function(){clearInterval(e)}}}),[t])}((function(){k(T-1),T<=1&&(j(!1),W(!0))}),x?1e3:null),Object(n.useEffect)(R,[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,r.a.createElement(E.d,null)," Typing Speed Test ",r.a.createElement(E.d,null)),r.a.createElement("p",{className:"instructions"},"Copy passages from classic works of literature to find your average words per minute."),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"box-container"},r.a.createElement(v,{time:!0},function(e){return"".concat(Math.floor(e/60),":").concat(e%60<10?"0".concat(e%60):e%60)}(T)),r.a.createElement(v,{label:"Words"},u(h)),r.a.createElement(v,{label:"Errors",error:!0},m(h,l)),r.a.createElement("button",{className:"cancel-button",onClick:H},(null===(e=window)||void 0===e?void 0:e.innerWidth)>700?"New text":r.a.createElement(E.c,null))),r.a.createElement("div",{className:"text-container"},r.a.createElement(f,{textToCopy:l,textTyped:h}),r.a.createElement(p,{ref:I,onChange:function(e){""===h&&j(!0),0!==T&&g(e.target.value)},textTyped:h})),M&&r.a.createElement(b,{textTyped:h,errors:m(h,l),restart:H,close:function(){return W(!1)}})),r.a.createElement("div",{className:"credit"},"Text extracts from ",r.a.createElement("a",{href:"https://litipsum.com/"},"Lit Ipsum")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(h,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.584531ec.chunk.js.map